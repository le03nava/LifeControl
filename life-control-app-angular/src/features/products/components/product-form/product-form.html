<div class="user-form-page">
  <header class="page-header">
    <h1 class="page-title">
      {{ isEditMode() ? 'Edit User' : 'Create New User' }}
    </h1>
    <p class="page-subtitle">
      {{ isEditMode() ? 'Update user information' : 'Add a new user to the system' }}
    </p>
  </header>

  <form [formGroup]="productForm" (ngSubmit)="handleSubmit()" class="user-form">
    <div class="form-section">
      <h2 class="section-title">Basic Information</h2>

      <div class="form-grid">
        <app-field
          fieldId="name"
          type="text"
          label="Name"
          placeholder="Enter product name"
          [control]="getControlByName('name')"
        />
        <app-field
          fieldId="description"
          type="text"
          label="Description"
          placeholder="Enter product description"
          [control]="getControlByName('description')"
        />
        <app-field
          fieldId="price"
          type="number"
          label="Price"
          placeholder="Enter product description"
          [control]="getControlByName('price')"
        />
      </div>
    </div>

    <div class="form-actions">
      <button app-button type="button" variant="secondary" (buttonClick)="goBack()">Cancel</button>

      <button
        app-button
        type="submit"
        variant="primary"
        [disabled]="productForm.invalid || isSubmitting()"
      >
        @if (isSubmitting()) {
          {{ isEditMode() ? 'Updating...' : 'Creating...' }}
        } @else {
          {{ isEditMode() ? 'Update User' : 'Create User' }}
        }
      </button>
    </div>
  </form>
</div>
