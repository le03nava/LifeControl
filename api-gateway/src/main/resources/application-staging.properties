# ============================================
# API Gateway - Configuración Staging/QA
# ============================================

# Configuración de Servicios Staging
KEYCLOAK_ISSUER_URI=${KEYCLOAK_ISSUER_URI}
PRODUCT_SERVICE_NAME=Product Service
ORDER_SERVICE_NAME=Order Service
INVENTORY_SERVICE_NAME=Inventory Service

# Puertos
SERVER_PORT=${SERVER_PORT:9000}
MANAGEMENT_PORT=${MANAGEMENT_PORT:9001}

# Logging intermedio
LOG_LEVEL=INFO
SPRING_PROFILES_ACTIVE=staging

# Circuit Breaker intermedio
CIRCUIT_BREAKER_FAILURE_THRESHOLD=40
CIRCUIT_BREAKER_WINDOW_SIZE=10
TIMEOUT_DURATION=3s
RETRY_MAX_ATTEMPTS=3

# Tracing con frecuencia moderada
TRACING_ENABLED=true
TRACING_SAMPLING_PROBABILITY=0.05

# Loki staging
LOKI_URL=${LOKI_URL:http://loki:3100/loki/api/v1/push}
LOKI_BATCH_SIZE=1500
LOKI_TIMEOUT=12s

# Health checks
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_PATH=/actuator/health

# Monitoring más completo que dev pero menos verboso que prod
management.endpoints.web.exposure.include=health,info,metrics,prometheus