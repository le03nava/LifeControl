# ============================================
# API Gateway - Configuración Producción
# ============================================

# Configuración de Servicios Producción
KEYCLOAK_ISSUER_URI=${KEYCLOAK_ISSUER_URI}
PRODUCT_SERVICE_NAME=Product Service
ORDER_SERVICE_NAME=Order Service  
INVENTORY_SERVICE_NAME=Inventory Service

# Puertos configurables
SERVER_PORT=${SERVER_PORT:8080}
MANAGEMENT_PORT=${MANAGEMENT_PORT:8081}

# Logging optimizado para producción
LOG_LEVEL=WARN
SPRING_PROFILES_ACTIVE=prod

# Circuit Breaker robusto para producción
CIRCUIT_BREAKER_FAILURE_THRESHOLD=50
CIRCUIT_BREAKER_WINDOW_SIZE=20
TIMEOUT_DURATION=5s
RETRY_MAX_ATTEMPTS=3
RETRY_WAIT_DURATION=3s

# Tracing optimizado para producción
TRACING_ENABLED=${TRACING_ENABLED:true}
TRACING_SAMPLING_PROBABILITY=0.01

# Loki producción
LOKI_URL=${LOKI_URL:http://loki:3100/loki/api/v1/push}
LOKI_BATCH_SIZE=2000
LOKI_TIMEOUT=15s

# Security hardening
management.endpoints.web.exposure.include=health,info,prometheus,metrics
management.endpoint.health.show-details=when-authorized

# Health checks optimizados
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_PATH=/actuator/health

# Performance tuning
server.tomcat.max-threads=200
server.tomcat.connection-timeout=20000